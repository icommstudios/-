//-------------------------------------------------
// INITIALIZING PAGE
//-------------------------------------------------
function CloseStatus(){jQuery(".updated_base, .error_base").slideUp()}function InitializeForm(e){e.lastPageButton&&e.lastPageButton.type=="image"?jQuery("#last_page_button_image").attr("checked",!0):(!e.lastPageButton||e.lastPageButton.type!="image")&&jQuery("#last_page_button_text").attr("checked",!0);jQuery("#last_page_button_text_input").val(e.lastPageButton?e.lastPageButton.text:gf_vars.previousLabel);jQuery("#last_page_button_image_url").val(e.lastPageButton?e.lastPageButton.imageUrl:"");TogglePageButton("last_page",!0);e.postStatus&&jQuery("#field_post_status").val(e.postStatus);e.postAuthor&&jQuery("#field_post_author").val(e.postAuthor);e.useCurrentUserAsAuthor==undefined&&(e.useCurrentUserAsAuthor=!0);jQuery("#gfield_current_user_as_author").attr("checked",e.useCurrentUserAsAuthor?!0:!1);e.postCategory&&jQuery("#field_post_category").val(e.postCategory);e.postFormat&&jQuery("#field_post_format").val(e.postFormat);if(e.postContentTemplateEnabled){jQuery("#gfield_post_content_enabled").attr("checked",!0);jQuery("#field_post_content_template").val(e.postContentTemplate)}else{jQuery("#gfield_post_content_enabled").attr("checked",!1);jQuery("#field_post_content_template").val("")}TogglePostContentTemplate(!0);if(e.postTitleTemplateEnabled){jQuery("#gfield_post_title_enabled").attr("checked",!0);jQuery("#field_post_title_template").val(e.postTitleTemplate)}else{jQuery("#gfield_post_title_enabled").attr("checked",!1);jQuery("#field_post_title_template").val("")}TogglePostTitleTemplate(!0);jQuery("#gform_last_page_settings").bind("click",function(){FieldClick(this)});jQuery("#gform_pagination").bind("click",function(){FieldClick(this)});jQuery(".gfield").bind("click",function(){FieldClick(this)});var t=e.pagination&&e.pagination.type?e.pagination.type:"percentage",n=t=="steps"?!0:!1,r=t=="percentage"?!0:!1,i=t=="none"?!0:!1;n?jQuery("#pagination_type_steps").attr("checked",!0):r?jQuery("#pagination_type_percentage").attr("checked",!0):i&&jQuery("#pagination_type_none").attr("checked",!0);jQuery("#first_page_css_class").val(e.firstPageCssClass);jQuery("#field_settings, #last_page_settings, #pagination_settings").tabs({selected:0});TogglePageBreakSettings();InitPaginationOptions(!0);InitializeFields()}function LoadFieldSettings(){field=GetSelectedField();var e=GetInputType(field);jQuery("#field_label").val(field.label);if(field.type=="html"){jQuery(".tooltip_form_field_label_html").show();jQuery(".tooltip_form_field_label").hide()}else{jQuery(".tooltip_form_field_label_html").hide();jQuery(".tooltip_form_field_label").show()}jQuery("#field_admin_label").val(field.adminLabel);jQuery("#field_content").val(field["content"]==undefined?"":field.content);jQuery("#post_custom_field_type").val(field.inputType);jQuery("#post_tag_type").val(field.inputType);jQuery("#field_size").val(field.size);jQuery("#field_required").attr("checked",field.isRequired==1?!0:!1);jQuery("#field_margins").attr("checked",field.disableMargins==1?!0:!1);jQuery("#field_no_duplicates").attr("checked",field.noDuplicates==1?!0:!1);jQuery("#field_default_value").val(field.defaultValue==undefined?"":field.defaultValue);jQuery("#field_default_value_textarea").val(field.defaultValue==undefined?"":field.defaultValue);jQuery("#field_description").val(field.description==undefined?"":field.description);jQuery("#field_css_class").val(field.cssClass==undefined?"":field.cssClass);jQuery("#field_range_min").val(field.rangeMin);jQuery("#field_range_max").val(field.rangeMax);jQuery("#field_name_format").val(field.nameFormat);jQuery("#field_force_ssl").attr("checked",field.forceSSL?!0:!1);jQuery("#credit_card_style").val(field.creditCardStyle?field.creditCardStyle:"style1");field.adminOnly?jQuery("#field_visibility_admin").attr("checked",!0):jQuery("#field_visibility_everyone").attr("checked",!0);jQuery("#field_file_extension").val(field.allowedExtensions==undefined?"":field.allowedExtensions);jQuery("#field_phone_format").val(field.phoneFormat);jQuery("#field_error_message").val(field.errorMessage);jQuery("#field_captcha_theme").val(field.captchaTheme==undefined?"red":field.captchaTheme);jQuery("#field_captcha_language").val(field.captchaLanguage==undefined?"en":field.captchaLanguage);jQuery("#field_other_choice").attr("checked",field.enableOtherChoice?!0:!1);jQuery("#field_add_icon_url").val(field.addIconUrl?field.addIconUrl:"");jQuery("#field_delete_icon_url").val(field.deleteIconUrl?field.deleteIconUrl:"");jQuery("#gfield_enable_enhanced_ui").attr("checked",field.enableEnhancedUI?!0:!1);jQuery("#gfield_password_strength_enabled").attr("checked",field.passwordStrengthEnabled==1?!0:!1);jQuery("#gfield_min_strength").val(field.minPasswordStrength==undefined?"":field.minPasswordStrength);TogglePasswordStrength(!0);jQuery("#gfield_email_confirm_enabled").attr("checked",field.emailConfirmEnabled==1?!0:!1);field.numberFormat?jQuery("#field_number_format_blank").remove():jQuery("#field_number_format #field_number_format_blank").length==0&&jQuery("#field_number_format").prepend("<option id='field_number_format_blank' value=''>"+gf_vars.selectFormat+"</option>");jQuery("#field_number_format").val(field.numberFormat?field.numberFormat:"");if(field.type=="product"&&field.inputType=="calculation"){field.enableCalculation=!0;jQuery(".field_calculation_rounding").hide();jQuery(".field_enable_calculation").hide()}else{jQuery(".field_calculation_rounding").show();jQuery(".field_enable_calculation").show()}jQuery("#field_enable_calculation").attr("checked",field.enableCalculation?!0:!1);ToggleCalculationOptions(field.enableCalculation,field);jQuery("#field_calculation_formula").val(field.calculationFormula);var t=gformIsNumber(field.calculationRounding)?field.calculationRounding:"norounding";jQuery("#field_calculation_rounding").val(t);jQuery("#option_field_type").val(field.inputType);var n=jQuery("#product_field_type");n.val(field.inputType);has_entry(field.id)?n.attr("disabled",!0):n.removeAttr("disabled");jQuery("#donation_field_type").val(field.inputType);jQuery("#quantity_field_type").val(field.inputType);if(field["inputType"]=="hiddenproduct"||field["inputType"]=="singleproduct"||field["inputType"]=="singleshipping"||field["inputType"]=="calculation"){var r=field.basePrice==undefined?"":field.basePrice;jQuery("#field_base_price").val(field.basePrice==undefined?"":field.basePrice);SetBasePrice(r)}jQuery("#field_disable_quantity").attr("checked",field.disableQuantity==1?!0:!1);SetDisableQuantity(field.disableQuantity==1);var i=field.enablePasswordInput?!0:!1;jQuery("#field_password").attr("checked",i?!0:!1);jQuery("#field_maxlen").val(typeof field.maxLength=="undefined"?"":field.maxLength);jQuery("#field_maxrows").val(typeof field.maxRows=="undefined"?"":field.maxRows);var s=field.addressType==undefined?"international":field.addressType;jQuery("#field_address_type").val(s);jQuery("#field_address_hide_address2").attr("checked",field.hideAddress2==1?!0:!1);jQuery("#field_address_hide_state_"+s).attr("checked",field.hideState==1?!0:!1);var o=field.defaultState==undefined?"":field.defaultState,u=field.defaultProvince==undefined?"":field.defaultProvince,a=s=="canadian"&&o==""?u:o;jQuery("#field_address_default_state_"+s).val(a);jQuery("#field_address_default_country_"+s).val(field.defaultCountry==undefined?"":field.defaultCountry);jQuery("#field_address_hide_country_"+s).attr("checked",field.hideCountry==1?!0:!1);SetAddressType(!0);jQuery("#gfield_display_title").attr("checked",field.displayTitle==1?!0:!1);jQuery("#gfield_display_caption").attr("checked",field.displayCaption==1?!0:!1);jQuery("#gfield_display_description").attr("checked",field.displayDescription==1?!0:!1);var f=CustomFieldExists(field.postCustomFieldName);jQuery("#field_custom_field_name_select")[0].selectedIndex=0;jQuery("#field_custom_field_name_text").val("");f?jQuery("#field_custom_field_name_select").val(field.postCustomFieldName):jQuery("#field_custom_field_name_text").val(field.postCustomFieldName);f?jQuery("#field_custom_existing").attr("checked",!0):jQuery("#field_custom_new").attr("checked",!0);ToggleCustomField(!0);jQuery("#gfield_customfield_content_enabled").attr("checked",field.customFieldTemplateEnabled?!0:!1);jQuery("#field_customfield_content_template").val(field.customFieldTemplateEnabled?field.customFieldTemplate:"");ToggleCustomFieldTemplate(!0);field.displayAllCategories?jQuery("#gfield_category_all").attr("checked",!0):jQuery("#gfield_category_select").attr("checked",!0);ToggleCategory(!0);jQuery("#gfield_post_category_initial_item_enabled").attr("checked",field.categoryInitialItemEnabled?!0:!1);jQuery("#field_post_category_initial_item").val(field.categoryInitialItemEnabled?field.categoryInitialItem:"");TogglePostCategoryInitialItem(!0);var l=field.postFeaturedImage?!0:!1;jQuery("#gfield_featured_image").attr("checked",l);var c=IsStandardMask(field.inputMaskValue);jQuery("#field_input_mask").attr("checked",field.inputMask?!0:!1);if(c){jQuery("#field_mask_standard").attr("checked",!0);jQuery("#field_mask_select").val(field.inputMaskValue)}else{jQuery("#field_mask_custom").attr("checked",!0);jQuery("#field_mask_text").val(field.inputMaskValue)}ToggleInputMask(!0);ToggleInputMaskOptions(!0);if(e=="creditcard"){if(!field.creditCards||field.creditCards.length<=0)field.creditCards=["amex","visa","discover","mastercard"];for(d in field.creditCards)jQuery("#field_credit_card_"+field.creditCards[d]).attr("checked",!0)}!field.dateType&&e=="date"&&(field.dateType="datepicker");jQuery("#field_date_input_type").val(field.dateType);jQuery("#gfield_calendar_icon_url").val(field["calendarIconUrl"]==undefined?"":field.calendarIconUrl);jQuery("#field_date_format").val(field["dateFormat"]=="dmy"?"dmy":field.dateFormat);jQuery("#field_time_format").val(field["timeFormat"]=="24"?"24":"12");SetCalendarIconType(field.calendarIconType,!0);ToggleDateCalendar(!0);LoadDateInputs();LoadTimeInputs();field.allowsPrepopulate=field.allowsPrepopulate?!0:!1;jQuery("#field_prepopulate").attr("checked",field.allowsPrepopulate?!0:!1);CreateInputNames(field);ToggleInputName(!0);var h=GetFirstRuleField()>0;if(field["type"]=="page"){LoadFieldConditionalLogic(h,"next_button");LoadFieldConditionalLogic(h,"page")}else LoadFieldConditionalLogic(h,"field");if(field.nextButton){field.nextButton.type=="image"?jQuery("#next_button_image").attr("checked",!0):jQuery("#next_button_text").attr("checked",!0);jQuery("#next_button_text_input").val(field.nextButton.text);jQuery("#next_button_image_url").val(field.nextButton.imageUrl)}if(field.previousButton){field.previousButton.type=="image"?jQuery("#previous_button_image").attr("checked",!0):jQuery("#previous_button_text").attr("checked",!0);jQuery("#previous_button_text_input").val(field.previousButton.text);jQuery("#previous_button_image_url").val(field.previousButton.imageUrl)}TogglePageButton("next",!0);TogglePageButton("previous",!0);jQuery(".gfield_category_checkbox").each(function(){if(field.choices)for(var e=0;e<field.choices.length;e++)if(this.value==field["choices"][e].value){this.checked=!0;return}this.checked=!1});has_entry(field.id)?jQuery("#field_type, #field_name_format").attr("disabled",!0):jQuery("#field_type, #field_name_format").attr("disabled",!1);jQuery("#field_custom_field_name").val(field.postCustomFieldName);jQuery("#field_columns_enabled").attr("checked",field.enableColumns?!0:!1);LoadFieldChoices(field);jQuery(".field_setting").hide();var p=fieldSettings[field.type];field.inputType&&field.type!="post_category"&&(p+=","+fieldSettings[field.inputType]);jQuery(p).show();for(var d=0;d<form.fields.length;d++)if(form.fields[d].type=="post_category"){jQuery(".post_category_setting").hide();break}if(field.type=="post_category"&&e!="select"){jQuery(".post_category_initial_item_setting").hide();jQuery("#gfield_post_category_initial_item_enabled").prop("checked",!1);SetCategoryInitialItem()}field.type=="quantity"&&jQuery(".calculation_setting").hide();jQuery("#post_category_field_type").val(field.inputType);jQuery("#field_captcha_type").val(field.captchaType==undefined?"recaptcha":field.captchaType);jQuery("#field_captcha_size").val(field.simpleCaptchaSize==undefined?"medium":field.simpleCaptchaSize);var v=field.simpleCaptchaFontColor==undefined?"":field.simpleCaptchaFontColor;jQuery("#field_captcha_fg").val(v);SetColorPickerColor("field_captcha_fg",v);var m=field.simpleCaptchaBackgroundColor==undefined?"":field.simpleCaptchaBackgroundColor;jQuery("#field_captcha_bg").val(m);SetColorPickerColor("field_captcha_bg",m);if(field["type"]=="captcha"){var g=".captcha_language_setting, .captcha_theme_setting",y=".captcha_size_setting, .captcha_fg_setting, .captcha_bg_setting";if(field["captchaType"]=="simple_captcha"||field["captchaType"]=="math"){jQuery(y).show();jQuery(g).hide()}else{jQuery(y).hide();jQuery(g).show()}}(field["type"]=="post_custom_field"&&field["inputType"]=="textarea"||field["inputType"]=="text")&&jQuery(".customfield_content_template_setting").show();if(field["type"]=="name"&&field["nameFormat"]=="simple"){jQuery(".default_value_setting").show();jQuery(".size_setting").show()}jQuery.inArray(field["type"],["product","option"])!=-1&&jQuery(".other_choice_setting").hide();field.enableCalculation&&jQuery("li.range_setting").hide();field.type=="text"&&(field.inputMask?jQuery(".maxlen_setting").hide():jQuery(".maxlen_setting").show());jQuery(document).trigger("gform_load_field_settings",[field,form]);jQuery("#field_settings").appendTo(".field_selected");jQuery("#field_settings").tabs("option","active",0);ShowSettings("field_settings");SetProductField(field)}function TogglePageBreakSettings(){if(HasPageBreak()){jQuery("#gform_last_page_settings").show();jQuery("#gform_pagination").show()}else{jQuery("#gform_last_page_settings").hide();jQuery("#gform_pagination").hide()}}function SetDisableQuantity(e){SetFieldProperty("disableQuantity",e);e?jQuery(".field_selected .ginput_quantity_label, .field_selected .ginput_quantity").hide():jQuery(".field_selected .ginput_quantity_label, .field_selected .ginput_quantity").show()}function SetBasePrice(e){e||(e=0);var t=GetCurrentCurrency(),n=t.toMoney(e);n==0&&(n=0);jQuery("#field_base_price").val(n);SetFieldProperty("basePrice",n);jQuery(".field_selected .ginput_product_price, .field_selected .ginput_shipping_price").html(n);jQuery(".field_selected .ginput_amount").val(n)}function SetAddressType(e){field=GetSelectedField();if(field["type"]!="address")return;SetAddressProperties();jQuery(".gfield_address_type_container").hide();var t=e?"":"slow";jQuery("#address_type_container_"+jQuery("#field_address_type").val()).show(t)}function UpdateAddressFields(){var e=jQuery("#field_address_type").val();field=GetSelectedField();var t=jQuery("#field_address_zip_label_"+e).val();jQuery(".field_selected #input_"+field.id+"_5_label").html(t);var n=jQuery("#field_address_state_label_"+e).val();jQuery(".field_selected #input_"+field.id+"_4_label").html(n);var r=jQuery("#field_address_country_"+e).val()!=""||jQuery("#field_address_hide_country_"+e).is(":checked");if(r)jQuery(".field_selected #input_"+field.id+"_6_container").hide();else{jQuery(".field_selected #input_"+field.id+"_6").val(jQuery("#field_address_default_country_"+e).val());jQuery(".field_selected #input_"+field.id+"_6_container").show()}var i=jQuery("#field_address_has_states_"+e).val()!="";if(i){jQuery(".field_selected .state_text").hide();var s=jQuery("#field_address_default_state_"+e).val(),o=jQuery(".field_selected .state_dropdown");o.append(jQuery("<option></option>").val(s).html(s));o.val(s).show()}else{jQuery(".field_selected .state_dropdown").hide();jQuery(".field_selected .state_text").val("").show()}jQuery("#field_address_hide_address2").is(":checked")?jQuery(".field_selected #input_"+field.id+"_2_container").hide():jQuery(".field_selected #input_"+field.id+"_2_container").show();jQuery("#field_address_hide_state_"+e).is(":checked")?jQuery(".field_selected #input_"+field.id+"_4_container").hide():jQuery(".field_selected #input_"+field.id+"_4_container").show()}function SetAddressProperties(){var e=jQuery("#field_address_type").val();SetFieldProperty("addressType",e);SetFieldProperty("hideAddress2",jQuery("#field_address_hide_address2").is(":checked"));SetFieldProperty("hideState",jQuery("#field_address_hide_state_"+e).is(":checked"));SetFieldProperty("defaultState",jQuery("#field_address_default_state_"+e).val());SetFieldProperty("defaultProvince","");var t=jQuery("#field_address_country_"+e).val();if(t==""){SetFieldProperty("hideCountry",jQuery("#field_address_hide_country_"+e).is(":checked"));t=jQuery("#field_address_default_country_"+e).val()}SetFieldProperty("defaultCountry",t);UpdateAddressFields()}function TogglePasswordStrength(e){var t=e?"":"slow";jQuery("#gfield_password_strength_enabled").is(":checked")?jQuery("#gfield_min_strength_container").show(t):jQuery("#gfield_min_strength_container").hide(t)}function ToggleCategory(e){var t=e?"":"slow";if(jQuery("#gfield_category_all").is(":checked")){jQuery("#gfield_settings_category_container").hide(t);SetFieldProperty("displayAllCategories",!0);SetFieldProperty("choices",new Array)}else{jQuery("#gfield_settings_category_container").show(t);SetFieldProperty("displayAllCategories",!1)}}function SetCustomFieldTemplate(){var e=jQuery("#gfield_customfield_content_enabled").is(":checked");SetFieldProperty("customFieldTemplate",e?jQuery("#field_customfield_content_template").val():null);SetFieldProperty("customFieldTemplateEnabled",e)}function SetCategoryInitialItem(){var e=jQuery("#gfield_post_category_initial_item_enabled").is(":checked");SetFieldProperty("categoryInitialItem",e?jQuery("#field_post_category_initial_item").val():null);SetFieldProperty("categoryInitialItemEnabled",e)}function PopulateContentTemplate(e){if(jQuery("#"+e).val().length==0){var t=GetSelectedField();jQuery("#"+e).val("{"+t.label+":"+t.id+"}")}}function TogglePostContentTemplate(e){var t=e?"":"slow";if(jQuery("#gfield_post_content_enabled").is(":checked")){jQuery("#gfield_post_content_container").show(t);e||PopulateContentTemplate("field_post_content_template")}else jQuery("#gfield_post_content_container").hide(t)}function TogglePostTitleTemplate(e){var t=e?"":"slow";if(jQuery("#gfield_post_title_enabled").is(":checked")){jQuery("#gfield_post_title_container").show(t);e||PopulateContentTemplate("field_post_title_template")}else jQuery("#gfield_post_title_container").hide(t)}function ToggleCustomFieldTemplate(e){var t=e?"":"slow";if(jQuery("#gfield_customfield_content_enabled").is(":checked")){jQuery("#gfield_customfield_content_container").show(t);e||PopulateContentTemplate("field_customfield_content_template")}else jQuery("#gfield_customfield_content_container").hide(t)}function ToggleInputName(e){var t=e?"":"slow";if(jQuery("#field_prepopulate").is(":checked"))jQuery("#field_input_name_container").show(t);else{jQuery("#field_input_name_container").hide(t);jQuery("#field_input_name").val("")}}function SetFieldColumns(){SetFieldChoices()}function ToggleChoiceValue(e){var t=e?"":"slow",n=GetSelectedField(),r=n.enablePrice?"_and_price":"",i=jQuery("#gfield_settings_choices_container");i.removeClass("choice_with_price choice_with_value choice_with_value_and_price");var s=jQuery("#field_choice_values_enabled").is(":checked");s?i.addClass("choice_with_value"+r):n.enablePrice&&i.addClass("choice_with_price")}function TogglePageButton(e,t){var n=jQuery("#"+e+"_button_text").is(":checked");show_element=n?"#"+e+"_button_text_container":"#"+e+"_button_image_container";hide_element=n?"#"+e+"_button_image_container":"#"+e+"_button_text_container";if(t){jQuery(hide_element).hide();jQuery(show_element).show()}else{jQuery(hide_element).hide();jQuery(show_element).fadeIn(800)}}function SetPageButton(e){field=GetSelectedField();var t=jQuery("#"+e+"_button_image").is(":checked")?"image":"text";field[e+"Button"].type=t;if(t=="image"){field[e+"Button"].text="";field[e+"Button"].imageUrl=jQuery("#"+e+"_button_image_url").val()}else{field[e+"Button"].text=jQuery("#"+e+"_button_text_input").val();field[e+"Button"].imageUrl=""}}function ToggleCustomField(e){var t=jQuery("#field_custom_existing").is(":checked");show_element=t?"#field_custom_field_name_select":"#field_custom_field_name_text";hide_element=t?"#field_custom_field_name_text":"#field_custom_field_name_select";var n=e?"":"";jQuery(hide_element).hide(n);jQuery(show_element).show(n)}function ToggleInputMask(e){var t=e?"":"slow";if(jQuery("#field_input_mask").is(":checked")){jQuery("#gform_input_mask").show(t);jQuery(".maxlen_setting").hide();SetFieldProperty("inputMask",!0);jQuery("#field_maxlen").val("");SetFieldProperty("maxLength","")}else{jQuery("#gform_input_mask").hide(t);jQuery(".maxlen_setting").show();SetFieldProperty("inputMask",!1);SetFieldProperty("inputMaskValue","")}}function ToggleInputMaskOptions(e){var t=jQuery("#field_mask_standard").is(":checked");show_element=t?"#field_mask_select":"#field_mask_text, .mask_text_description";hide_element=t?"#field_mask_text, .mask_text_description":"#field_mask_select";var n=e?"":"";jQuery(hide_element).val("").hide(n);jQuery(show_element).show(n);e||SetFieldProperty("inputMaskValue","")}function ToggleAutoresponder(){jQuery("#form_autoresponder_enabled").is(":checked")?jQuery("#form_autoresponder_container").show("slow"):jQuery("#form_autoresponder_container").hide("slow")}function HasPostContentField(){for(var e=0;e<form.fields.length;e++){var t=form.fields[e].type;if(t=="post_content")return!0}return!1}function HasPostTitleField(){for(var e=0;e<form.fields.length;e++){var t=form.fields[e].type;if(t=="post_title")return!0}return!1}function HasCustomField(){for(var e=0;e<form.fields.length;e++){var t=form.fields[e].type;if(t=="post_custom_field")return!0}return!1}function HasPageBreak(){for(var e=0;e<form.fields.length;e++){var t=form.fields[e].type;if(t=="page")return!0}return!1}function SetNextButtonConditionalLogic(e){var t=GetSelectedField();t.nextButton.conditionalLogic=e?new ConditionalLogic:null}function UpdateFormObject(){form.postContentTemplateEnabled=!1;form.postTitleTemplateEnabled=!1;form.postTitleTemplate="";form.postContentTemplate="";if(HasPostField()){form.postAuthor=jQuery("#field_post_author").val()?jQuery("#field_post_author").val():"";form.useCurrentUserAsAuthor=jQuery("#gfield_current_user_as_author").is(":checked");form.postCategory=jQuery("#field_post_category").val();form.postFormat=jQuery("#field_post_format").length!=0?jQuery("#field_post_format").val():0;form.postStatus=jQuery("#field_post_status").val()}if(jQuery("#gfield_post_content_enabled").is(":checked")&&HasPostContentField()){form.postContentTemplateEnabled=!0;form.postContentTemplate=jQuery("#field_post_content_template").val()}if(jQuery("#gfield_post_title_enabled").is(":checked")&&HasPostTitleField()){form.postTitleTemplateEnabled=!0;form.postTitleTemplate=jQuery("#field_post_title_template").val()}if(jQuery("#gform_last_page_settings").is(":visible")){form.lastPageButton=new Button;form.lastPageButton.type=jQuery("#last_page_button_text").is(":checked")?"text":"image";if(form.lastPageButton.type=="image"){form.lastPageButton.text="";form.lastPageButton.imageUrl=jQuery("#last_page_button_image_url").val()}else{form.lastPageButton.text=jQuery("#last_page_button_text_input").val();form.lastPageButton.imageUrl=""}}else form.lastPageButton=null;if(jQuery("#gform_pagination").is(":visible")){form.pagination=new Object;var e=jQuery('input[name="pagination_type"]:checked').val();form.pagination.type=e;var t=jQuery(".gform_page_names input");form.pagination.pages=new Array;for(var n=0;n<t.length;n++)form.pagination.pages.push(jQuery(t[n]).val());if(e=="percentage"){form.pagination.style=jQuery("#percentage_style").val();form.pagination.backgroundColor=form["pagination"]["style"]=="custom"?jQuery("#percentage_style_custom_bgcolor").val():null;form.pagination.color=form["pagination"]["style"]=="custom"?jQuery("#percentage_style_custom_color").val():null;form.pagination.display_progressbar_on_confirmation=jQuery("#percentage_confirmation_display").is(":checked");form.pagination.progressbar_completion_text=jQuery("#percentage_confirmation_display").is(":checked")?jQuery("#percentage_confirmation_page_name").val():null}else{form.pagination.backgroundColor=null;form.pagination.color=null;form.pagination.display_progressbar_on_confirmation=null;form.pagination.progressbar_completion_text=null}form.firstPageCssClass=jQuery("#first_page_css_class").val()}else{form.pagination=null;form.firstPageCssClass=null}SortFields();if(window.gform_before_update){form=window.gform_before_update(form);window.console&&console.log('"gform_before_update" is deprecated since version 1.7! Use the "gform_pre_form_editor_save" filter instead.')}form=gform.applyFilters("gform_pre_form_editor_save",form)}function EndUpdateForm(e){jQuery("#please_wait_container").hide();jQuery("#after_update_dialog").hide();jQuery("#after_update_error_dialog").hide();e?jQuery("#after_update_dialog").slideDown():jQuery("#after_update_error_dialog").slideDown();setTimeout(function(){jQuery("#after_update_dialog").slideUp()},5e3)}function SortFields(){var e=new Array;jQuery(".gfield").each(function(){id=this.id.substr(6);e.push(GetFieldById(id))});form.fields=e}function StartDeleteField(e){var t=jQuery(e)[0].id.split("_")[2];if(HasConditionalLogicDependency(t)&&!confirm(gf_vars.conditionalLogicDependency))return;DeleteField(t)}function HasConditionalLogicDependencyLegwork(e,t){if(ObjectHasConditionalLogicDependency(form.button,e,t))return!0;for(i in form.confirmations)if(ObjectHasConditionalLogicDependency(form.confirmations[i],e,t))return!0;for(i in form.notifications)if(ObjectHasConditionalLogicDependency(form.notifications[i],e,t))return!0;for(i in form.fields){var n=form.fields[i];if(ObjectHasConditionalLogicDependency(n,e,t))return!0;if(GetInputType(n)=="page"&&ObjectHasConditionalLogicDependency(n.nextButton,e,t))return!0}return!1}function HasConditionalLogicDependency(e,t){var n=HasConditionalLogicDependencyLegwork(e,t);return gform.applyFilters("gform_has_conditional_logic_dependency",n,e,t)}function ObjectHasConditionalLogicDependency(e,t,n){if(!e.conditionalLogic)return!1;if(typeof n=="undefined")var n=!1;var r=e.conditionalLogic.rules;for(i in r){var s=r[i];if(s.fieldId!=t)continue;if(n!==!1&&s.value!=n)continue;return!0}return!1}function HasDependentRule(e,t,n){typeof n=="undefined"&&(n=!1);for(i in e){var r=e[i];if(r.fieldId!=t)continue;if(n!==!1&&r.value!=n)continue;return!0}return!1}function CheckChoiceConditionalLogicDependency(e){var t=GetSelectedField();if(HasConditionalLogicDependency(t.id,jQuery(e).data("previousValue"))){if(confirm(gf_vars.conditionalLogicDependencyChoiceEdit))return;jQuery(e).val(jQuery(e).data("previousValue")).trigger("keyup")}}function EndDeleteField(e){var t=new Array,n="";for(var r=0;r<form.fields.length;r++){if(form.fields[r].conditionalLogic){for(var i=0;i<form.fields[r].conditionalLogic.rules.length;i++)form.fields[r]["conditionalLogic"]["rules"][i]["fieldId"]==e&&form.fields[r].conditionalLogic.rules.splice(i,1);form.fields[r]["conditionalLogic"]["rules"].length==0&&(form.fields[r].conditionalLogic=!1)}form.fields[r]["type"]=="product"&&form.fields[r]["id"]!=e&&n==""&&(n=form.fields[r].id);form.fields[r]["productField"]==e&&t.push(r)}for(var r=0;r<t.length;r++)form.fields[t[r]].productField=n;if(form.notification&&form.notification.routing){for(var i=0;i<form.notification.routing.length;i++)form["notification"]["routing"][i]["fieldId"]==e&&form.notification.routing.splice(i,1);form["notification"]["routing"].length==0&&(form.notification.routing=null)}for(var r=0;r<form.fields.length;r++)if(form.fields[r].id==e){form.fields.splice(r,1);jQuery("#field_settings").insertBefore("#gform_fields");jQuery("#field_"+e).fadeOut("slow",function(){jQuery("#field_"+e).remove()});HideSettings("field_settings");break}TogglePageBreakSettings();jQuery(document).trigger("gform_field_deleted",[form,e])}function StartDuplicateField(e){var t=jQuery(e)[0].id.split("_")[2];for(fieldIndex in form.fields)if(form.fields[fieldIndex].id==t){var n=Copy(form.fields[fieldIndex]);n.id=GetNextFieldId();if(n.inputs!=null){var r=1;for(inputIndex in n.inputs){var i=n.inputs[inputIndex].id+"";n.inputs[inputIndex].id=i.replace(/(\d+\.)/,n.id+".")}}form.fields.splice(fieldIndex,0,n);DuplicateField(n,t);return}}function EndDuplicateField(e,t,n){jQuery("#gform_fields li#field_"+n).after(t);var r=jQuery("#field_"+e.id);r.animate({backgroundColor:"#FFFBCC"},"fast",function(){jQuery(this).animate({backgroundColor:"#FFF"},"fast",function(){jQuery(this).css("background-color","")})});r.bind("click",function(){FieldClick(this)});HideSettings("field_settings");HideSettings("form_settings");HideSettings("last_page_settings");TogglePageBreakSettings();InitializeFields()}function GetFieldsByType(e){var t=new Array;for(var n=0;n<form.fields.length;n++)IndexOf(e,form.fields[n].type)>=0&&t.push(form.fields[n]);return t}function GetNextFieldId(){var e=0;for(var t=0;t<form.fields.length;t++)parseFloat(form.fields[t].id)>e&&(e=parseFloat(form.fields[t].id));return parseFloat(e)+1}function EndAddField(e,t){jQuery("#gform_fields").append(t);var n=jQuery("#field_"+e.id);n.animate({backgroundColor:"#FFFBCC"},"fast",function(){jQuery(this).animate({backgroundColor:"#FFF"},"fast",function(){jQuery(this).css("background-color","")})});n.bind("click",function(){FieldClick(this)});form.fields.push(e);jQuery("#no-fields").hide();jQuery(".selectable").removeClass("field_selected");HideSettings("field_settings");HideSettings("form_settings");HideSettings("last_page_settings");n.addClass("field_selected");SetFieldSize(e.size);TogglePageBreakSettings();InitializeFields();n.removeClass("field_selected");jQuery(document).trigger("gform_field_added",[form,e])}function StartChangeNameFormat(e){field=GetSelectedField();field.nameFormat=e;SetFieldProperty("nameFormat",e);jQuery("#field_settings").slideUp(function(){StartChangeInputType(field.type,field)})}function StartChangeCaptchaType(e){field=GetSelectedField();field.captchaType=e;SetFieldProperty("captchaType",e);jQuery("#field_settings").slideUp(function(){StartChangeInputType(field.type,field)})}function StartChangeProductType(e){field=GetSelectedField();e=="singleproduct"||e=="hiddenproduct"||field["inputType"]=="calculation"?field.enablePrice=null:field.enablePrice=!0;return StartChangeInputType(e,field)}function StartChangeDonationType(e){field=GetSelectedField();e!="donation"?field.enablePrice=!0:field.enablePrice=null;return StartChangeInputType(e,field)}function StartChangeShippingType(e){field=GetSelectedField();e!="singleshipping"&&(field.enablePrice=!0);return StartChangeInputType(e,field)}function StartChangePostCategoryType(e){e=="dropdown"?jQuery(".post_category_initial_item_setting").hide():jQuery(".post_category_initial_item_setting").show();field=GetSelectedField();return StartChangeInputType(e,field)}function EndChangeInputType(e,t,n){jQuery("#field_"+e).html(n);var r=GetFieldById(e);r.inputType=r.type!=t?t:"";SetDefaultValues(r);SetFieldLabel(r.label);SetFieldSize(r.size);SetFieldDefaultValue(r.defaultValue);SetFieldDescription(r.description);SetFieldRequired(r.isRequired);InitializeFields();LoadFieldSettings()}function InitializeFields(){jQuery(".selectable").hover(function(){jQuery(this).addClass("field_hover")},function(){jQuery(this).removeClass("field_hover")});jQuery(".field_delete_icon, .field_duplicate_icon").bind("click",function(e){e.stopPropagation()});jQuery("#field_settings, #form_settings, #last_page_settings, #pagination_settings, .captcha_message, .form_delete_icon, .all-merge-tags").bind("click",function(e){e.stopPropagation()})}function FieldClick(e){if(gforms_dragging==e.id){gforms_dragging=0;return}if(jQuery(e).hasClass("field_selected")){var t="";switch(e.id){case"gform_heading":t="#form_settings";jQuery(".gf_form_toolbar_settings a").removeClass("gf_toolbar_active");break;case"gform_last_page_settings":t="#last_page_settings";break;case"gform_pagination":t="#pagination_settings";break;default:t="#field_settings"}jQuery("input#gform_force_focus").focus();jQuery(t).slideUp(function(){jQuery(e).removeClass("field_selected").addClass("field_hover");HideSettings("field_settings")});return}jQuery(".selectable").removeClass("field_selected");jQuery(e).removeClass("field_hover").addClass("field_selected");if(e.id=="gform_heading"){HideSettings("field_settings");HideSettings("last_page_settings");HideSettings("pagination_settings");InitializeFormConditionalLogic();ShowSettings("form_settings");jQuery(".gf_form_toolbar_settings a").addClass("gf_toolbar_active")}else if(e.id=="gform_last_page_settings"
){HideSettings("field_settings");HideSettings("form_settings");HideSettings("pagination_settings");ShowSettings("last_page_settings")}else if(e.id=="gform_pagination"){HideSettings("field_settings");HideSettings("form_settings");HideSettings("last_page_settings");InitPaginationOptions();ShowSettings("pagination_settings")}else{HideSettings("form_settings");HideSettings("last_page_settings");HideSettings("pagination_settings");LoadFieldSettings()}}function TogglePercentageStyle(e){var t=e?"":"slow";jQuery("#percentage_style").val()=="custom"?jQuery(".percentage_custom_container").show(t):jQuery(".percentage_custom_container").hide(t)}function TogglePercentageConfirmationText(e){var t=e?"":"slow";jQuery("#percentage_confirmation_display").is(":checked")?jQuery(".percentage_confirmation_page_name_setting").show(t):jQuery(".percentage_confirmation_page_name_setting").hide(t)}function CustomFieldExists(e){if(!e)return!0;var t=jQuery("#field_custom_field_name_select option");for(var n=0;n<t.length;n++)if(t[n].value==e)return!0;return!1}function IsStandardMask(e){if(!e)return!0;var t=jQuery("#field_mask_select option");for(var n=0;n<t.length;n++)if(t[n].value==e)return!0;return!1}function LoadFieldChoices(e){jQuery("#field_choice_values_enabled").attr("checked",e.enableChoiceValue?!0:!1);ToggleChoiceValue();var t=GetInputType(e)=="list"?"field_columns":"field_choices";jQuery("#"+t).html(GetFieldChoices(e));LoadBulkChoices(e);jQuery(document).trigger("gform_load_field_choices",[e]);gform.doAction("gform_load_field_choices",[e])}function LoadBulkChoices(e){LoadCustomChoices();if(!e.choices)return;var t=new Array,n;for(var r=0;r<e.choices.length;r++){n=e.choices[r].text==e.choices[r].value?e.choices[r].text:e.choices[r].text+"|"+e.choices[r].value;e.enablePrice&&e.choices[r]["price"]!=""&&(n+="|:"+e.choices[r].price);t.push(n)}jQuery("#gfield_bulk_add_input").val(t.join("\n"))}function DisplayCustomMessage(e){jQuery("#bulk_custom_message").html(e).slideDown();setTimeout(function(){jQuery("#bulk_custom_message").slideUp()},2e3)}function LoadCustomChoices(){jQuery(".choice_section_header, .bulk_custom_choice").remove();if(!IsEmpty(gform_custom_choices)){var e="<li class='choice_section_header'>Custom Choices</li>";for(key in gform_custom_choices)e+="<li class='bulk_custom_choice'><a href='#' onclick='SelectCustomChoice(\""+key+"\");' class='bulk-choice bulk_custom_choice'>"+key+"</a></li>";e+="<li class='choice_section_header'>Predefined Choices</li>";jQuery("#bulk_items").prepend(e)}}function SelectCustomChoice(e){jQuery("#gfield_bulk_add_input").val(gform_custom_choices[e].join("\n"));gform_selected_custom_choice=e;InitBulkCustomPanel()}function SelectPredefinedChoice(e){jQuery("#gfield_bulk_add_input").val(gform_predefined_choices[e].join("\n"));gform_selected_custom_choice="";InitBulkCustomPanel()}function InsertBulkChoices(e){field=GetSelectedField();field.choices=new Array;var t=!1;for(var n=0;n<e.length;n++){text_price=e[n].split("|:");text_value=text_price[0];price="";if(text_price.length>1){var r=GetCurrentCurrency();price=r.toMoney(text_price[1])}text_value=text_value.split("|");field.choices.push(new Choice(jQuery.trim(text_value[0]),jQuery.trim(text_value[text_value.length-1]),jQuery.trim(price)));text_value.length>1&&(t=!0)}if(t){field.enableChoiceValue=!0;jQuery("#field_choice_values_enabled").attr("checked",!0);ToggleChoiceValue()}LoadFieldChoices(field);UpdateFieldChoices(field.type)}function InitBulkCustomPanel(){gform_selected_custom_choice.length==0?CloseCustomChoicesPanel():LoadCustomChoicesPanel()}function LoadCustomChoicesPanel(e,t){if(e){jQuery("#custom_choice_name").val("");jQuery("#bulk_save_button").html(gf_vars.save);jQuery("#bulk_cancel_link").show();jQuery("#bulk_delete_link").hide()}else{jQuery("#custom_choice_name").val(gform_selected_custom_choice);jQuery("#bulk_save_button").html(gf_vars.update);jQuery("#bulk_cancel_link").hide();jQuery("#bulk_delete_link").show()}t||(t="");jQuery("#bulk_save_as").hide(t);jQuery("#bulk_custom_edit").show(t)}function CloseCustomChoicesPanel(e){e||(e="");jQuery("#bulk_save_as").show(e);jQuery("#bulk_custom_edit").hide(e)}function IsEmpty(e){var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}function SetFieldChoice(e,t){text=jQuery("#"+e+"_choice_text_"+t).val();value=jQuery("#"+e+"_choice_value_"+t).val();i=jQuery("#"+e+"_choice_price_"+t).val();var n=jQuery("#"+e+"_choice_selected_"+t);isSelected=n.is(":checked");field=GetSelectedField();field.choices[t].text=text;field.choices[t].value=field.enableChoiceValue?value:text;if(field.enablePrice){var r=GetCurrentCurrency(),i=r.toMoney(i);i||(i="");field.choices[t].price=i;jQuery("#"+e+"_choice_price_"+t).val(i)}jQuery("#field_choices :radio, #field_choices :checkbox").each(function(e){field.choices[e].isSelected=this.checked});LoadBulkChoices(field);UpdateFieldChoices(GetInputType(field))}function UpdateFieldChoices(e){var t="",n="";e=="checkbox"&&(field.inputs=new Array);var r=0;switch(GetInputType(field)){case"select":for(var i=0;i<field.choices.length;i++){selected=field.choices[i].isSelected?"selected='selected'":"";var s=field.choices[i].value?field.choices[i].value:field.choices[i].text;t+="<option value='"+s.replace(/'/g,"&#039;")+"' "+selected+">"+field.choices[i].text+"</option>"}break;case"checkbox":for(var i=0;i<field.choices.length;i++){(i+1+r)%10==0&&r++;var o=field.id+"."+(i+1+r);field.inputs.push(new Input(o,field.choices[i].text));var u="choice_"+field.id+"_"+i;checked=field.choices[i].isSelected?"checked":"";i<5&&(t+="<li><input type='"+e+"' "+checked+" id='"+u+"' disabled='disabled'><label for='"+u+"'>"+field.choices[i].text+"</label></li>")}field.choices.length>5&&(t+="<li class='gchoice_total'>"+gf_vars.editToViewAll.replace("%d",field.choices.length)+"</li>");break;case"radio":for(var i=0;i<field.choices.length;i++){var u="choice_"+field.id+"_"+i;checked=field.choices[i].isSelected?"checked":"";i<5&&(t+="<li><input type='"+e+"' "+checked+" id='"+u+"' disabled='disabled'><label for='"+u+"'>"+field.choices[i].text+"</label></li>")}t+=field.enableOtherChoice?"<li><input type='"+e+"' "+checked+" id='"+u+"' disabled='disabled'><input type='text' value='"+gf_vars.otherChoiceValue+"'  disabled='disabled' /></li>":"";field.choices.length>5&&(t+="<li class='gchoice_total'>"+gf_vars.editToViewAll.replace("%d",field.choices.length)+"</li>");break;case"list":var a=field["choices"]!=null;columns=a?field.choices:[[]];var f="";if(a){t+="<thead><tr>";for(var i=0;i<columns.length;i++)t+="<th>"+columns[i].text+"</th>";t+="<th>&nbsp;</th></tr></thead>"}else f="class='gf_list_one_column'";t+="<tbody>";t+="<tr>";for(var l=0;l<columns.length;l++)t+="<td "+f+"><input type='text' disabled='disabled'  /></td>";t+="<td><img src='"+gf_vars.baseUrl+"/images/add.png' class='add_list_item' style='cursor:pointer; margin:0 3px;' /></td>";t+="</tr></tbody>"}n=".gfield_"+e;jQuery(".field_selected "+n).html(t)}function InsertFieldChoice(e){field=GetSelectedField();var t=field.enablePrice?"0.00":"",n=new Choice("","",t);window["gform_new_choice_"+field.type]&&(n=window["gform_new_choice_"+field.type](field,n));field.choices.splice(e,0,n);LoadFieldChoices(field);UpdateFieldChoices(GetInputType(field))}function DeleteFieldChoice(e){field=GetSelectedField();var t=jQuery("#"+GetInputType(field)+"_choice_value_"+e).val();if(HasConditionalLogicDependency(field.id,t)&&!confirm(gf_vars.conditionalLogicDependencyChoice))return;field.choices.splice(e,1);LoadFieldChoices(field);UpdateFieldChoices(GetInputType(field))}function MoveFieldChoice(e,t){field=GetSelectedField();var n=field.choices[e];field.choices.splice(e,1);field.choices.splice(t,0,n);LoadFieldChoices(field);UpdateFieldChoices(GetInputType(field))}function GetFieldType(e){return e.substr(0,e.lastIndexOf("_"))}function GetSelectedField(){var e=jQuery(".field_selected")[0].id.substr(6);return GetFieldById(e)}function SetPasswordProperty(e){SetFieldProperty("enablePasswordInput",e)}function ToggleDateCalendar(e){var t=e?"":"slow",n=jQuery("#field_date_input_type").val();if(n=="datefield"||n=="datedropdown"){jQuery("#date_picker_container").hide(t);SetCalendarIconType("none")}else jQuery("#date_picker_container").show(t)}function ToggleCalendarIconUrl(e){var t=e?"":"slow";if(jQuery("#gsetting_icon_custom").is(":checked"))jQuery("#gfield_icon_url_container").show(t);else{jQuery("#gfield_icon_url_container").hide(t);jQuery("#gfield_calendar_icon_url").val("");SetFieldProperty("calendarIconUrl","")}}function SetTimeFormat(e){SetFieldProperty("timeFormat",e);LoadTimeInputs()}function LoadTimeInputs(){var e=jQuery("#field_time_format").val();e=="24"?jQuery(".field_selected .gfield_time_ampm").hide():jQuery(".field_selected .gfield_time_ampm").show()}function SetDateFormat(e){SetFieldProperty("dateFormat",e);LoadDateInputs()}function LoadDateInputs(){var e=jQuery("#field_date_input_type").val(),t=jQuery("#field_date_format").val(),n=t?t.substr(0,3):"mdy";if(e=="datefield"){switch(n){case"ymd":jQuery(".field_selected #gfield_input_date_month").remove().insertBefore(".field_selected #gfield_input_date_day");jQuery(".field_selected #gfield_input_date_year").remove().insertBefore(".field_selected #gfield_input_date_month");break;case"mdy":jQuery(".field_selected #gfield_input_date_day").remove().insertBefore(".field_selected #gfield_input_date_year");jQuery(".field_selected #gfield_input_date_month").remove().insertBefore(".field_selected #gfield_input_date_day");break;case"dmy":jQuery(".field_selected #gfield_input_date_month").remove().insertBefore(".field_selected #gfield_input_date_year");jQuery(".field_selected #gfield_input_date_day").remove().insertBefore(".field_selected #gfield_input_date_month")}jQuery(".field_selected .ginput_date").show();jQuery(".field_selected .ginput_date_dropdown").hide();jQuery(".field_selected #gfield_input_datepicker").hide();jQuery(".field_selected #gfield_input_datepicker_icon").hide()}else if(e=="datedropdown"){switch(n){case"ymd":jQuery(".field_selected #gfield_dropdown_date_month").remove().insertBefore(".field_selected #gfield_dropdown_date_day");jQuery(".field_selected #gfield_dropdown_date_year").remove().insertBefore(".field_selected #gfield_dropdown_date_month");break;case"mdy":jQuery(".field_selected #gfield_dropdown_date_day").remove().insertBefore(".field_selected #gfield_dropdown_date_year");jQuery(".field_selected #gfield_dropdown_date_month").remove().insertBefore(".field_selected #gfield_dropdown_date_day");break;case"dmy":jQuery(".field_selected #gfield_dropdown_date_month").remove().insertBefore(".field_selected #gfield_dropdown_date_year");jQuery(".field_selected #gfield_dropdown_date_day").remove().insertBefore(".field_selected #gfield_dropdown_date_month")}jQuery(".field_selected .ginput_date_dropdown").css("display","inline");jQuery(".field_selected .ginput_date").hide();jQuery(".field_selected #gfield_input_datepicker").hide();jQuery(".field_selected #gfield_input_datepicker_icon").hide()}else{jQuery(".field_selected .ginput_date").hide();jQuery(".field_selected .ginput_date_dropdown").hide();jQuery(".field_selected #gfield_input_datepicker").show();jQuery("#gsetting_icon_calendar").is(":checked")?jQuery(".field_selected #gfield_input_datepicker_icon").show():jQuery(".field_selected #gfield_input_datepicker_icon").hide()}}function SetCalendarIconType(e,t){field=GetSelectedField();if(GetInputType(field)!="date")return;e==undefined&&(e="none");e=="none"?jQuery("#gsetting_icon_none").attr("checked",!0):e=="calendar"?jQuery("#gsetting_icon_calendar").attr("checked",!0):e=="custom"&&jQuery("#gsetting_icon_custom").attr("checked",!0);SetFieldProperty("calendarIconType",e);ToggleCalendarIconUrl(t);LoadDateInputs()}function SetDateInputType(e){field=GetSelectedField();if(GetInputType(field)!="date")return;SetFieldProperty("dateType",e);ToggleDateCalendar();LoadDateInputs()}function SetPostImageMeta(){var e=jQuery(".field_selected #gfield_display_title").is(":checked"),t=jQuery(".field_selected #gfield_display_caption").is(":checked"),n=jQuery(".field_selected #gfield_display_description").is(":checked"),r=e||t||n;SetFieldProperty("displayTitle",e);SetFieldProperty("displayCaption",t);SetFieldProperty("displayDescription",n);jQuery(".field_selected .ginput_post_image_title").css("display",e?"block":"none");jQuery(".field_selected .ginput_post_image_caption").css("display",t?"block":"none");jQuery(".field_selected .ginput_post_image_description").css("display",n?"block":"none");jQuery(".field_selected .ginput_post_image_file").css("display",r?"block":"none")}function SetFeaturedImage(){var e=jQuery("#gfield_featured_image").is(":checked");if(e){for(i in form.fields)form.fields[i].postFeaturedImage=!1;SetFieldProperty("postFeaturedImage",!0)}else SetFieldProperty("postFeaturedImage",!1)}function SetFieldProperty(e,t){t==undefined&&(t="");GetSelectedField()[e]=t}function SetInputName(e,t){var n=GetSelectedField();e&&(e=e.trim());if(!t)n.inputName=e;else for(var r=0;r<n.inputs.length;r++)n["inputs"][r]["id"]==t&&(n.inputs[r].name=e)}function SetSelectedCategories(){var e=GetSelectedField();e.choices=new Array;jQuery(".gfield_category_checkbox").each(function(){this.checked&&e.choices.push(new Choice(this.name,this.value))});e.choices.sort(function(e,t){return e.text.toLowerCase()>t.text.toLowerCase()})}function SetFieldLabel(e){var t=jQuery(".field_selected .gfield_required")[0];jQuery(".field_selected .gfield_label, .field_selected .gsection_title").text(e).append(t);SetFieldProperty("label",e)}function SetCaptchaTheme(e,t){jQuery(".field_selected .gfield_captcha").attr("src",t);SetFieldProperty("captchaTheme",e)}function SetCaptchaSize(e){var t=jQuery("#field_captcha_type").val();SetFieldProperty("simpleCaptchaSize",e);RedrawCaptcha();jQuery(".field_selected .gfield_captcha_input_container").removeClass(t+"_small").removeClass(t+"_medium").removeClass(t+"_large").addClass(t+"_"+e)}function SetCaptchaFontColor(e){SetFieldProperty("simpleCaptchaFontColor",e);RedrawCaptcha()}function SetCaptchaBackgroundColor(e){SetFieldProperty("simpleCaptchaBackgroundColor",e);RedrawCaptcha()}function RedrawCaptcha(){var e=jQuery("#field_captcha_type").val();if(e=="math"){url_1=GetCaptchaUrl(1);url_2=GetCaptchaUrl(2);url_3=GetCaptchaUrl(3);jQuery(".field_selected .gfield_captcha:eq(0)").attr("src",url_1);jQuery(".field_selected .gfield_captcha:eq(1)").attr("src",url_2);jQuery(".field_selected .gfield_captcha:eq(2)").attr("src",url_3)}else{url=GetCaptchaUrl();jQuery(".field_selected .gfield_captcha").attr("src",url)}}function SetFieldSize(e){jQuery(".field_selected .small, .field_selected .medium, .field_selected .large").removeClass("small").removeClass("medium").removeClass("large").addClass(e);SetFieldProperty("size",e)}function SetFieldAdminOnly(e){SetFieldProperty("adminOnly",e);e?jQuery(".field_selected").addClass("field_admin_only"):jQuery(".field_selected").removeClass("field_admin_only")}function SetFieldDefaultValue(e){jQuery(".field_selected > div > input, .field_selected > div > textarea").val(e);SetFieldProperty("defaultValue",e)}function SetFieldDescription(e){e==undefined&&(e="");jQuery(".field_selected .gfield_description, .field_selected .gsection_description").html(e);SetFieldProperty("description",e)}function SetPasswordStrength(e){if(e)jQuery(".field_selected .gfield_password_strength").show();else{jQuery(".field_selected .gfield_password_strength").hide();jQuery("#gfield_min_strength").val("");SetFieldProperty("minPasswordStrength","")}SetFieldProperty("passwordStrengthEnabled",e)}function SetEmailConfirmation(e){if(e){jQuery(".field_selected .ginput_single_email").hide();jQuery(".field_selected .ginput_confirm_email").show()}else{jQuery(".field_selected .ginput_confirm_email").hide();jQuery(".field_selected .ginput_single_email").show()}SetFieldProperty("emailConfirmEnabled",e)}function SetCardType(e,t){var n=GetSelectedField().creditCards?GetSelectedField().creditCards:new Array;if(jQuery(e).is(":checked")){if(jQuery.inArray(t,n)==-1){jQuery(".gform_card_icon_"+t).fadeIn();n[n.length]=t}}else{var r=jQuery.inArray(t,n);if(r!=-1){jQuery(".gform_card_icon_"+t).fadeOut();n.splice(r,1)}}SetFieldProperty("creditCards",n)}function SetFieldRequired(e){var t=e?"*":"";jQuery(".field_selected .gfield_required").html(t);SetFieldProperty("isRequired",e)}function SetMaxLength(e){var t=GetMaxLengthPattern(),n="",r=e.value.split("");for(i in r)t.test(r[i])||(n+=r[i]);e.value=n;SetFieldProperty("maxLength",n)}function GetMaxLengthPattern(){return/[a-zA-Z\-!@#$%^&*();'":_+=<,>.~`?\/|\[\]\{\}\\]/}function ValidateKeyPress(e,t,n){var n=typeof n=="undefined"?!0:n,r=e.which?e.which:e.keyCode,i=t.test(String.fromCharCode(r));return e.ctrlKey?!0:n?i:!i}function IndexOf(e,t){for(var n=0;n<e.length;n++)if(e[n]==t)return n;return-1}function ToggleCalculationOptions(e,t){if(e){jQuery("#calculation_options").gfSlide("down");t.type!="product"&&jQuery("li.range_setting").gfSlide("up")}else{jQuery("#calculation_options").gfSlide("up");t.type!="product"&&jQuery("li.range_setting").gfSlide("down");SetFieldProperty("calculationFormula","");SetFieldProperty("calculationRounding","")}SetFieldProperty("enableCalculation",e)}function FormulaContentCallback(){SetFieldProperty("calculationFormula",jQuery("#field_calculation_formula").val())}function SetupUnsavedChangesWarning(){UpdateFormObject();gforms_original_json=jQuery.toJSON(form);window.onbeforeunload=function(){UpdateFormObject();if(gforms_original_json!=jQuery.toJSON(form)&&!gf_vars.isFormDelete)return"You have unsaved changes."}}function iColorShow(e,t,n,r){jQuery("#iColorPicker").css({top:t-150+"px",left:e+"px",position:"absolute"}).fadeIn("fast");jQuery("#iColorPickerBg").css({position:"absolute",top:0,left:0,width:"100%",height:"100%"}).fadeIn("fast");var s=jQuery("#"+n).val();jQuery("#colorPreview span").text(s);jQuery("#colorPreview").css("background",s);jQuery("#color").val(s);var o=jQuery("#iColorPicker");for(i=0;i<o.length;i++){var u=document.getElementById("hexSection"+i),a=u.childNodes;for(j=0;j<a.length;j++){var f=a[j].childNodes;for(k=0;k<f.length;k++)jQuery(a[j].childNodes[k]).unbind().mouseover(function(e){var t="#"+jQuery(this).attr("hx");jQuery("#colorPreview").css("background",t);jQuery("#colorPreview span").text(t)}).click(function(){var e="#"+jQuery(this).attr("hx");jQuery("#"+n).val(e);jQuery("#chip_"+n).css("background-color",e);jQuery("#iColorPickerBg").hide();jQuery("#iColorPicker").fadeOut();r&&window[r](e);jQuery(this)})}}}function SetColorPickerColor(e,t,n){var r=jQuery("#chip_"+e);r.css("background-color",t);n&&window[n](t)}function SetFieldChoices(){var e=GetSelectedField();for(var t=0;t<e.choices.length;t++)SetFieldChoice(GetInputType(e),t)}jQuery(document).ready(function(){setTimeout("CloseStatus();",5e3);jQuery("#gform_fields").sortable({axis:"y",cancel:"#field_settings",handle:".gfield_admin_icons",start:function(e,t){gforms_dragging=t.item[0].id}});jQuery("#field_choices").sortable({axis:"y",handle:".field-choice-handle",update:function(e,t){var n=t.item.data("index"),r=t.item.index();MoveFieldChoice(n,r)}});(typeof gf_global["view"]=="undefined"||gf_global["view"]!="settings")&&InitializeForm(form);jQuery(document).trigger("gform_load_form_settings",[form]);SetupUnsavedChangesWarning();if(window.console){var e=jQuery(document)[0],t=jQuery.hasData(e)&&jQuery._data(e);if(t){var n=new Array("gform_load_form_settings");for(var r in t.events)jQuery.inArray(r,n)!==-1&&console.log('Gravity Forms API warning: The jQuery event "'+r+'" is deprecated on this page since version 1.7')}}jQuery(document).on("focus","#field_choices input.field-choice-text, #field_choices input.field-choice-value",function(){jQuery(this).data("previousValue",jQuery(this).val())})});this.iColorPicker=function(){jQuery("input.iColorPicker").each(function(e){if(e==0){jQuery(document.createElement("div")).attr("id","iColorPicker").css("display","none").html('<table class="pickerTable" id="pickerTable0"><thead id="hexSection0"><tr><td style="background:#f00;" hx="f00"></td><td style="background:#ff0" hx="ff0"></td><td style="background:#0f0" hx="0f0"></td><td style="background:#0ff" hx="0ff"></td><td style="background:#00f" hx="00f"></td><td style="background:#f0f" hx="f0f"></td><td style="background:#fff" hx="fff"></td><td style="background:#ebebeb" hx="ebebeb"></td><td style="background:#e1e1e1" hx="e1e1e1"></td><td style="background:#d7d7d7" hx="d7d7d7"></td><td style="background:#cccccc" hx="cccccc"></td><td style="background:#c2c2c2" hx="c2c2c2"></td><td style="background:#b7b7b7" hx="b7b7b7"></td><td style="background:#acacac" hx="acacac"></td><td style="background:#a0a0a0" hx="a0a0a0"></td><td style="background:#959595" hx="959595"></td></tr><tr><td style="background:#ee1d24" hx="ee1d24"></td><td style="background:#fff100" hx="fff100"></td><td style="background:#00a650" hx="00a650"></td><td style="background:#00aeef" hx="00aeef"></td><td style="background:#2f3192" hx="2f3192"></td><td style="background:#ed008c" hx="ed008c"></td><td style="background:#898989" hx="898989"></td><td style="background:#7d7d7d" hx="7d7d7d"></td><td style="background:#707070" hx="707070"></td><td style="background:#626262" hx="626262"></td><td style="background:#555" hx="555"></td><td style="background:#464646" hx="464646"></td><td style="background:#363636" hx="363636"></td><td style="background:#262626" hx="262626"></td><td style="background:#111" hx="111"></td><td style="background:#000" hx="000"></td></tr><tr><td style="background:#f7977a" hx="f7977a"></td><td style="background:#fbad82" hx="fbad82"></td><td style="background:#fdc68c" hx="fdc68c"></td><td style="background:#fff799" hx="fff799"></td><td style="background:#c6df9c" hx="c6df9c"></td><td style="background:#a4d49d" hx="a4d49d"></td><td style="background:#81ca9d" hx="81ca9d"></td><td style="background:#7bcdc9" hx="7bcdc9"></td><td style="background:#6ccff7" hx="6ccff7"></td><td style="background:#7ca6d8" hx="7ca6d8"></td><td style="background:#8293ca" hx="8293ca"></td><td style="background:#8881be" hx="8881be"></td><td style="background:#a286bd" hx="a286bd"></td><td style="background:#bc8cbf" hx="bc8cbf"></td><td style="background:#f49bc1" hx="f49bc1"></td><td style="background:#f5999d" hx="f5999d"></td></tr><tr><td style="background:#f16c4d" hx="f16c4d"></td><td style="background:#f68e54" hx="f68e54"></td><td style="background:#fbaf5a" hx="fbaf5a"></td><td style="background:#fff467" hx="fff467"></td><td style="background:#acd372" hx="acd372"></td><td style="background:#7dc473" hx="7dc473"></td><td style="background:#39b778" hx="39b778"></td><td style="background:#16bcb4" hx="16bcb4"></td><td style="background:#00bff3" hx="00bff3"></td><td style="background:#438ccb" hx="438ccb"></td><td style="background:#5573b7" hx="5573b7"></td><td style="background:#5e5ca7" hx="5e5ca7"></td><td style="background:#855fa8" hx="855fa8"></td><td style="background:#a763a9" hx="a763a9"></td><td style="background:#ef6ea8" hx="ef6ea8"></td><td style="background:#f16d7e" hx="f16d7e"></td></tr><tr><td style="background:#ee1d24" hx="ee1d24"></td><td style="background:#f16522" hx="f16522"></td><td style="background:#f7941d" hx="f7941d"></td><td style="background:#fff100" hx="fff100"></td><td style="background:#8fc63d" hx="8fc63d"></td><td style="background:#37b44a" hx="37b44a"></td><td style="background:#00a650" hx="00a650"></td><td style="background:#00a99e" hx="00a99e"></td><td style="background:#00aeef" hx="00aeef"></td><td style="background:#0072bc" hx="0072bc"></td><td style="background:#0054a5" hx="0054a5"></td><td style="background:#2f3192" hx="2f3192"></td><td style="background:#652c91" hx="652c91"></td><td style="background:#91278f" hx="91278f"></td><td style="background:#ed008c" hx="ed008c"></td><td style="background:#ee105a" hx="ee105a"></td></tr><tr><td style="background:#9d0a0f" hx="9d0a0f"></td><td style="background:#a1410d" hx="a1410d"></td><td style="background:#a36209" hx="a36209"></td><td style="background:#aba000" hx="aba000"></td><td style="background:#588528" hx="588528"></td><td style="background:#197b30" hx="197b30"></td><td style="background:#007236" hx="007236"></td><td style="background:#00736a" hx="00736a"></td><td style="background:#0076a4" hx="0076a4"></td><td style="background:#004a80" hx="004a80"></td><td style="background:#003370" hx="003370"></td><td style="background:#1d1363" hx="1d1363"></td><td style="background:#450e61" hx="450e61"></td><td style="background:#62055f" hx="62055f"></td><td style="background:#9e005c" hx="9e005c"></td><td style="background:#9d0039" hx="9d0039"></td></tr><tr><td style="background:#790000" hx="790000"></td><td style="background:#7b3000" hx="7b3000"></td><td style="background:#7c4900" hx="7c4900"></td><td style="background:#827a00" hx="827a00"></td><td style="background:#3e6617" hx="3e6617"></td><td style="background:#045f20" hx="045f20"></td><td style="background:#005824" hx="005824"></td><td style="background:#005951" hx="005951"></td><td style="background:#005b7e" hx="005b7e"></td><td style="background:#003562" hx="003562"></td><td style="background:#002056" hx="002056"></td><td style="background:#0c004b" hx="0c004b"></td><td style="background:#30004a" hx="30004a"></td><td style="background:#4b0048" hx="4b0048"></td><td style="background:#7a0045" hx="7a0045"></td><td style="background:#7a0026" hx="7a0026"></td></tr></thead><tbody><tr><td style="border:1px solid #000;background:#fff;cursor:pointer;height:60px;-moz-background-clip:-moz-initial;-moz-background-origin:-moz-initial;-moz-background-inline-policy:-moz-initial;" colspan="16" align="center" id="colorPreview"><span style="color:#000;border:1px solid rgb(0, 0, 0);padding:5px;background-color:#fff;font:11px Arial, Helvetica, sans-serif;"></span></td></tr></tbody></table><style>#iColorPicker input{margin:2px}</style>').appendTo("body");jQuery(document.createElement("div")).attr("id","iColorPickerBg").click(function(){jQuery("#iColorPickerBg").hide();jQuery("#iColorPicker").fadeOut()}).appendTo("body");jQuery("table.pickerTable td").css({width:"12px",height:"14px",border:"1px solid #000",cursor:"pointer"});jQuery("#iColorPicker table.pickerTable").css({"border-collapse":"collapse"});jQuery("#iColorPicker").css({border:"1px solid #ccc",background:"#333",padding:"5px",color:"#fff","z-index":9999})}jQuery("#colorPreview").css({height:"50px"})})};jQuery(function(){iColorPicker()});jQuery.fn.gfSlide=function(e){var t=jQuery("#field_settings").is(":visible");e=="up"?t?this.slideUp():this.hide():t?this.slideDown():this.show();return this};